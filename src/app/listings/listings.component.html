
<div class="container" *ngIf="loggedIn()">
  <div class="row row-centered">
  <div class="col-lg-6 col-centered text-center">
    <h3 class="text-center"> Have a game to trade?</h3>
    <button class="btn btn-primary align-center" routerLink="/new-listing" >Add New Listing</button>
  </div>
  <div *ngIf="!myListings" class="col-lg-6 col-centered">
    <h3> View/Delete Your listings</h3>
    <button class="btn btn-primary" (click)="showMyListings()">Click here</button>
  </div>
  <div *ngIf="myListings" class="col-lg-6 col-centered">
    <h3> View All Listings</h3>
    <button class="btn btn-primary" (click)="showAllListings()">Click here</button>
  </div>
</div>
</div>

<div>
  <div>
    <h2><span *ngIf="!myListings">All Available</span><span *ngIf="myListings">Your </span> Listings</h2>
  </div>
<br>
</div>
<div *ngIf="listings.length === 0" [hidden]="!myListings">
  <h3>You have no listings :(</h3>
</div>
<div *ngFor="let listing of listings">
  <div class="container">
    <div class="row row-centered alert alert-success alert-nobottom-margin"  *ngIf="hasOffers(listing)">
      <span>There is an offer on this listing!</span>
  </div>
  <div class="row row-centered alert alert-success alert-nobottom-margin"  *ngIf="listing.status =='completed'">
    <span>Listing is complete</span>
</div>
    <div class="row row-centered text-center listing is-flex" (click)="getListing(listing)">
    <div class="panel panel-info col-sm-4 col-md-4 col-lg-6 col-centered game">
      <div class="panel-heading">Trading</div>
      <div class="panel-body">
        Game: {{listing.game.name}} <br>
        System: {{listing.game.system}}
      </div>
    </div>

    <div class="panel panel-info col-sm-4 col-md-4 col-lg-6 col-centered game">
      <div class="panel-heading">Wanted</div>
      <div class="panel-body" *ngFor="let game of listing.wanted">
        Game: {{game.name}} <br>
        System: {{game.system}}
      </div>
    </div>

  </div>

  <br>
</div>
</div>
